<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luminea - AIé©±åŠ¨çš„æƒ…ç»ªæ”¯æŒç³»ç»Ÿ</title>
    <style>
        :root {
            /* æ˜Ÿç©ºè‰²ç³» */
            --primary-color: #4a5dff;
            --secondary-color: #7b5dff;
            --background-color: #0a1128;
            --card-background: rgba(18, 30, 66, 0.85);
            --text-color: #e1e6ff;
            --text-secondary: #a8b0cf;
            --highlight-color: #6e7eff;
            
            /* æƒ…ç»ªè‰²è°ƒ */
            --calm-color: #f5cb5c;
            --anxiety-color: #5c8df5;
            --happy-color: #ffbb33;
            --sad-color: #7a92e0;
            
            --shadow-color: rgba(0, 0, 0, 0.25);
            --card-glow: 0 0 15px rgba(74, 93, 255, 0.2);
            --transition-duration: 0.8s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: background-color var(--transition-duration), color var(--transition-duration);
        }

        body {
            background-color: var(--background-color);
            color: var(--text-color);
            overflow-x: hidden;
            transition: background-color var(--transition-duration);
            min-height: 100vh;
        }

        .container {
            max-width: 414px;
            margin: 0 auto;
            height: 100vh;
            overflow-y: auto;
            position: relative;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) transparent;
        }

        .container::-webkit-scrollbar {
            width: 5px;
        }

        .container::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 10px;
        }

        header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            position: sticky;
            top: 0;
            z-index: 10;
            background-color: rgba(10, 17, 40, 0.7);
        }

        .logo {
            display: flex;
            align-items: center;
        }

        .logo h1 {
            font-size: 24px;
            font-weight: 600;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .language-switcher {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 5px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            border: none;
            color: var(--text-color);
            font-size: 14px;
        }

        .language-switcher:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .tab-container {
            display: flex;
            justify-content: space-around;
            margin: 10px 20px 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 5px;
        }

        .tab {
            padding: 10px 15px;
            cursor: pointer;
            position: relative;
            opacity: 0.7;
            font-size: 15px;
            border-radius: 8px;
            flex: 1;
            text-align: center;
        }

        .tab.active {
            opacity: 1;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.1);
        }

        .content {
            display: none;
            padding: 10px 20px;
        }

        .content.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        .card {
            background-color: var(--card-background);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--card-glow);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s, box-shadow 0.3s, background-color var(--transition-duration);
            backdrop-filter: blur(5px);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 93, 255, 0.3);
        }

        .card h2 {
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            color: var(--text-color);
        }

        .card h2 .icon {
            margin-right: 8px;
            font-size: 20px;
        }

        .emotion-cloud {
            width: 100%;
            height: 220px;
            margin: 10px 0 20px;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            background: rgba(0, 0, 0, 0.2);
        }

        canvas {
            border-radius: 12px;
        }

        .emotion-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            padding: 15px;
            border-radius: 12px;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .emotion-level {
            font-size: 24px;
            font-weight: 600;
        }

        .emotion-description {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .biometric-data {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .biometric-item {
            text-align: center;
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            margin: 0 5px;
        }

        .biometric-item .value {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .biometric-item .label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .intervention-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .intervention-option {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .intervention-option:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: scale(1.02);
        }

        .intervention-option .icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .intervention-option .title {
            font-size: 14px;
            font-weight: 500;
        }

        .chart-container {
            height: 200px;
            margin: 20px 0;
            position: relative;
        }

        .time-selector {
            display: flex;
            justify-content: space-around;
            margin-bottom: 15px;
        }

        .time-option {
            padding: 6px 12px;
            font-size: 13px;
            border-radius: 20px;
            background-color: rgba(255, 255, 255, 0.05);
            cursor: pointer;
        }

        .time-option.active {
            background-color: var(--primary-color);
            color: white;
        }

        .settings-list {
            list-style: none;
        }

        .settings-item {
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .settings-item:last-child {
            border-bottom: none;
        }

        .settings-item .title {
            font-weight: 500;
        }

        .settings-item .description {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .toggle {
            position: relative;
            width: 50px;
            height: 28px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .toggle.active {
            background-color: var(--primary-color);
        }

        .toggle::after {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            background-color: white;
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: transform 0.3s;
        }

        .toggle.active::after {
            transform: translateX(22px);
        }

        /* æ˜Ÿç©ºèƒŒæ™¯ */
        .starry-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            opacity: 0;
            animation: twinkling 5s infinite;
        }

        .shooting-star {
            position: absolute;
            width: 100px;
            height: 1px;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.8), transparent);
            transform: rotate(45deg);
            animation: shootingStar 10s linear infinite;
            opacity: 0;
        }

        @keyframes twinkling {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.8; }
        }

        @keyframes shootingStar {
            0% { 
                transform: translateX(-100px) translateY(-100px) rotate(45deg);
                opacity: 0;
            }
            5% { opacity: 1; }
            25% {
                transform: translateX(calc(100vw + 100px)) translateY(calc(100vh + 100px)) rotate(45deg);
                opacity: 0;
            }
            100% { opacity: 0; }
        }

        .breathing-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.5;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes breathing {
            0% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.05); opacity: 0.5; }
            100% { transform: scale(1); opacity: 0.3; }
        }

        .breathing-circle {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--primary-color) 0%, transparent 70%);
            animation: breathing 6s infinite ease-in-out;
        }

        .emotion-alert {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            background-color: rgba(18, 30, 66, 0.95);
            color: white;
            border-radius: 10px;
            display: none;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 100;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .emotion-alert .icon {
            margin-right: 10px;
            font-size: 20px;
        }

        .emotion-alert.show {
            display: flex;
            animation: slideUp 0.5s forwards;
        }

        @keyframes slideUp {
            from { transform: translate(-50%, 50px); opacity: 0; }
            to { transform: translate(-50%, 0); opacity: 1; }
        }

        .voice-interaction {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--primary-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 10;
            transition: transform 0.3s, background-color 0.3s;
        }

        .voice-interaction:hover {
            transform: scale(1.05);
            background-color: var(--secondary-color);
        }

        .voice-interaction .icon {
            color: white;
            font-size: 24px;
        }

        .voice-active {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background-color: var(--card-background);
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.2);
            border-radius: 20px 20px 0 0;
            padding: 20px;
            display: none;
            z-index: 20;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .voice-active.show {
            display: block;
            animation: slideUpVoice 0.5s forwards;
        }

        @keyframes slideUpVoice {
            from { transform: translateY(200px); }
            to { transform: translateY(0); }
        }

        .voice-visualization {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 80px;
            margin: 20px 0;
        }

        .voice-bar {
            width: 4px;
            height: 20px;
            background-color: var(--primary-color);
            margin: 0 3px;
            border-radius: 2px;
        }

        .voice-text {
            text-align: center;
            font-size: 16px;
            margin-top: 20px;
            color: var(--text-color);
        }

        .close-voice {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 20px;
            cursor: pointer;
            opacity: 0.7;
        }

        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        .modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            width: 85%;
            max-width: 400px;
            background-color: var(--card-background);
            border-radius: 16px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transform: translateY(20px);
            transition: transform 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .modal-text {
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-secondary);
        }

        .modal-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.3s, transform 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
        }

        .btn-secondary {
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
        }

        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.15);
        }

        /* è¯­è¨€ç›¸å…³æ ·å¼ */
        [data-lang="en"] {
            display: none;
        }

        body.lang-en [data-lang="zh"] {
            display: none;
        }

        body.lang-en [data-lang="en"] {
            display: block;
        }

        /* å¯¹äºå†…è”å…ƒç´  */
        span[data-lang="en"] {
            display: none;
        }

        body.lang-en span[data-lang="zh"] {
            display: none;
        }

        body.lang-en span[data-lang="en"] {
            display: inline;
        }

        /* å¯¹äºflexå…ƒç´  */
        .flex-lang[data-lang="en"] {
            display: none;
        }

        body.lang-en .flex-lang[data-lang="zh"] {
            display: none;
        }

        body.lang-en .flex-lang[data-lang="en"] {
            display: flex;
        }
    </style>
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <div class="starry-background" id="starryBackground"></div>
    <div class="breathing-background" id="breathingBackground"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <h1>Luminea</h1>
            </div>
            <button class="language-switcher" id="languageSwitcher">
                <span data-lang="zh">EN</span>
                <span data-lang="en">ä¸­æ–‡</span>
            </button>
        </header>

        <div class="tab-container">
            <div class="tab active" data-tab="emotion">
                <span data-lang="zh">æƒ…ç»ªç›‘æµ‹</span>
                <span data-lang="en">Emotion</span>
            </div>
            <div class="tab" data-tab="intervention">
                <span data-lang="zh">å¹²é¢„æªæ–½</span>
                <span data-lang="en">Intervention</span>
            </div>
            <div class="tab" data-tab="data">
                <span data-lang="zh">æ•°æ®åˆ†æ</span>
                <span data-lang="en">Data</span>
            </div>
            <div class="tab" data-tab="settings">
                <span data-lang="zh">è®¾ç½®</span>
                <span data-lang="en">Settings</span>
            </div>
        </div>

        <!-- æƒ…ç»ªç›‘æµ‹ -->
        <div class="content active" id="emotion">
            <div class="card">
                <h2><span class="icon">ğŸŒŸ</span> 
                    <span data-lang="zh">æƒ…ç»ªæ˜Ÿäº‘</span>
                    <span data-lang="en">Emotion Cloud</span>
                </h2>
                <div class="emotion-cloud">
                    <canvas id="emotionCloudCanvas"></canvas>
                </div>
                <div class="emotion-status" id="emotionStatusContainer">
                    <div>
                        <div class="emotion-level" id="emotionLevel">
                            <span data-lang="zh">å¹³é™</span>
                            <span data-lang="en">Calm</span>
                        </div>
                        <div class="emotion-description">
                            <span data-lang="zh">å¿ƒç‡å’Œçš®ç”µååº”ç¨³å®š</span>
                            <span data-lang="en">Heart rate and skin response stable</span>
                        </div>
                    </div>
                    <div id="emotionScore">78</div>
                </div>
            </div>

            <div class="card">
                <h2><span class="icon">ğŸ“Š</span> 
                    <span data-lang="zh">ç”Ÿç‰©æŒ‡æ ‡</span>
                    <span data-lang="en">Biometrics</span>
                </h2>
                <div class="biometric-data">
                    <div class="biometric-item">
                        <div class="value" id="heartRate">72</div>
                        <div class="label">
                            <span data-lang="zh">å¿ƒç‡</span>
                            <span data-lang="en">Heart Rate</span>
                        </div>
                    </div>
                    <div class="biometric-item">
                        <div class="value" id="sleepQuality">85%</div>
                        <div class="label">
                            <span data-lang="zh">ç¡çœ è´¨é‡</span>
                            <span data-lang="en">Sleep Quality</span>
                        </div>
                    </div>
                    <div class="biometric-item">
                        <div class="value" id="stressLevel">
                            <span data-lang="zh">ä¸­</span>
                            <span data-lang="en">Mid</span>
                        </div>
                        <div class="label">
                            <span data-lang="zh">å‹åŠ›æ°´å¹³</span>
                            <span data-lang="en">Stress Level</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- å¹²é¢„æªæ–½ -->
        <div class="content" id="intervention">
            <div class="card">
                <h2><span class="icon">ğŸ§˜</span> 
                    <span data-lang="zh">ä¸ªæ€§åŒ–æ”¯æŒ</span>
                    <span data-lang="en">Personalized Support</span>
                </h2>
                <p>
                    <span data-lang="zh">é€‰æ‹©é€‚åˆæ‚¨å½“å‰æƒ…ç»ªçŠ¶æ€çš„å¹²é¢„æªæ–½</span>
                    <span data-lang="en">Choose interventions suitable for your current emotional state</span>
                </p>
                <div class="intervention-options">
                    <div class="intervention-option" id="breathingExercise">
                        <div class="icon">ğŸ’¨</div>
                        <div class="title">
                            <span data-lang="zh">å‘¼å¸ç»ƒä¹ </span>
                            <span data-lang="en">Breathing</span>
                        </div>
                    </div>
                    <div class="intervention-option" id="guidedMeditation">
                        <div class="icon">ğŸ§ </div>
                        <div class="title">
                            <span data-lang="zh">å¼•å¯¼å†¥æƒ³</span>
                            <span data-lang="en">Meditation</span>
                        </div>
                    </div>
                    <div class="intervention-option" id="journaling">
                        <div class="icon">ğŸ“</div>
                        <div class="title">
                            <span data-lang="zh">æƒ…ç»ªæ—¥è®°</span>
                            <span data-lang="en">Journal</span>
                        </div>
                    </div>
                    <div class="intervention-option" id="positiveAffirmation">
                        <div class="icon">ğŸ’¬</div>
                        <div class="title">
                            <span data-lang="zh">ç§¯æè‚¯å®š</span>
                            <span data-lang="en">Affirmation</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2><span class="icon">âš™ï¸</span> 
                    <span data-lang="zh">å¹²é¢„è®¾ç½®</span>
                    <span data-lang="en">Intervention Settings</span>
                </h2>
                <div class="settings-list">
                    <div class="settings-item">
                        <div>
                            <div class="title">
                                <span data-lang="zh">è§¦è§‰åé¦ˆ</span>
                                <span data-lang="en">Haptic Feedback</span>
                            </div>
                            <div class="description">
                                <span data-lang="zh">å½“æ£€æµ‹åˆ°å‹åŠ›å‡é«˜æ—¶è§¦å‘éœ‡åŠ¨</span>
                                <span data-lang="en">Trigger vibration when stress increases</span>
                            </div>
                        </div>
                        <div class="toggle active" id="hapticsToggle"></div>
                    </div>
                    <div class="settings-item">
                        <div>
                            <div class="title">
                                <span data-lang="zh">è‡ªåŠ¨å¹²é¢„</span>
                                <span data-lang="en">Auto Intervention</span>
                            </div>
                            <div class="description">
                                <span data-lang="zh">è‡ªåŠ¨å¯åŠ¨é€‚åˆå½“å‰æƒ…ç»ªçš„å¹²é¢„æªæ–½</span>
                                <span data-lang="en">Automatically start suitable interventions</span>
                            </div>
                        </div>
                        <div class="toggle" id="autoInterventionToggle"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ•°æ®å¯è§†åŒ– -->
        <div class="content" id="data">
            <div class="card">
                <h2><span class="icon">ğŸ“ˆ</span> 
                    <span data-lang="zh">æƒ…ç»ªè¶‹åŠ¿</span>
                    <span data-lang="en">Emotion Trends</span>
                </h2>
                <div class="time-selector">
                    <div class="time-option" data-period="day">
                        <span data-lang="zh">ä»Šå¤©</span>
                        <span data-lang="en">Today</span>
                    </div>
                    <div class="time-option active" data-period="week">
                        <span data-lang="zh">æœ¬å‘¨</span>
                        <span data-lang="en">Week</span>
                    </div>
                    <div class="time-option" data-period="month">
                        <span data-lang="zh">æœ¬æœˆ</span>
                        <span data-lang="en">Month</span>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="emotionTrendChart"></canvas>
                </div>
            </div>

            <div class="card">
                <h2><span class="icon">ğŸ”„</span> 
                    <span data-lang="zh">æƒ…ç»ªè§¦å‘å› ç´ </span>
                    <span data-lang="en">Emotion Triggers</span>
                </h2>
                <p>
                    <span data-lang="zh">AIåˆ†æçš„å¯èƒ½æƒ…ç»ªè§¦å‘å› ç´ </span>
                    <span data-lang="en">AI analyzed potential emotion triggers</span>
                </p>
                <ul class="settings-list">
                    <div class="settings-item">
                        <div>
                            <div class="title">
                                <span data-lang="zh">å·¥ä½œå‹åŠ›</span>
                                <span data-lang="en">Work Pressure</span>
                            </div>
                            <div class="description">
                                <span data-lang="zh">åœ¨å·¥ä½œæ—¥ä¸‹åˆ3ç‚¹è‡³6ç‚¹é—´æ˜¾è‘—</span>
                                <span data-lang="en">Significant between 3-6pm on weekdays</span>
                            </div>
                        </div>
                        <div>45%</div>
                    </div>
                    <div class="settings-item">
                        <div>
                            <div class="title">
                                <span data-lang="zh">ç¡çœ ä¸è¶³</span>
                                <span data-lang="en">Sleep Deficit</span>
                            </div>
                            <div class="description">
                                <span data-lang="zh">ç¡çœ æ—¶é—´ä½äº6å°æ—¶çš„æ—¥å­</span>
                                <span data-lang="en">Days with less than 6 hours of sleep</span>
                            </div>
                            </div>
                            <div>30%</div>
                        </div>
                        <div class="settings-item">
                            <div>
                                <div class="title">
                                    <span data-lang="zh">ç¤¾äº¤æ´»åŠ¨</span>
                                    <span data-lang="en">Social Activities</span>
                                </div>
                                <div class="description">
                                    <span data-lang="zh">ç¾¤ä½“ç¤¾äº¤æ´»åŠ¨åæƒ…ç»ªæå‡</span>
                                    <span data-lang="en">Mood improvement after group social activities</span>
                                </div>
                            </div>
                            <div>25%</div>
                        </div>
                    </ul>
                </div>
            </div>
    
            <!-- è®¾ç½® -->
            <div class="content" id="settings">
                <div class="card">
                    <h2><span class="icon">ğŸ”’</span> 
                        <span data-lang="zh">éšç§ä¸å®‰å…¨</span>
                        <span data-lang="en">Privacy & Security</span>
                    </h2>
                    <p style="margin-bottom: 15px; color: var(--text-secondary);">
                        <span data-lang="zh">Luminea é‡‡ç”¨æ•°æ®è¾¹ç¼˜åŒ–å’Œç«¯åˆ°ç«¯åŠ å¯†ï¼Œç±»ä¼¼äº Apple iCloudï¼Œç¡®ä¿ç”¨æˆ·æ•°æ®å®‰å…¨ã€‚</span>
                        <span data-lang="en">Luminea uses edge computing and end-to-end encryption, similar to Apple iCloud, ensuring your data security.</span>
                    </p>
                    <div class="settings-list">
                        <div class="settings-item">
                            <div>
                                <div class="title">
                                    <span data-lang="zh">è¾¹ç¼˜è®¡ç®—</span>
                                    <span data-lang="en">Edge Computing</span>
                                </div>
                                <div class="description">
                                    <span data-lang="zh">åœ¨è®¾å¤‡æœ¬åœ°å¤„ç†æ‰€æœ‰æ•°æ®</span>
                                    <span data-lang="en">Process all data locally on device</span>
                                </div>
                            </div>
                            <div class="toggle active" id="edgeComputingToggle"></div>
                        </div>
                        <div class="settings-item">
                            <div>
                                <div class="title">
                                    <span data-lang="zh">æ•°æ®åŠ å¯†</span>
                                    <span data-lang="en">Data Encryption</span>
                                </div>
                                <div class="description">
                                    <span data-lang="zh">ä½¿ç”¨ç«¯åˆ°ç«¯åŠ å¯†ä¿æŠ¤æ‚¨çš„æ•°æ®</span>
                                    <span data-lang="en">Use end-to-end encryption for your data</span>
                                </div>
                            </div>
                            <div class="toggle active" id="encryptionToggle"></div>
                        </div>
                    </div>
                </div>
    
                <div class="card">
                    <h2><span class="icon">ğŸŒ</span> 
                        <span data-lang="zh">åº”ç”¨è®¾ç½®</span>
                        <span data-lang="en">App Settings</span>
                    </h2>
                    <div class="settings-list">
                        <div class="settings-item">
                            <div>
                                <div class="title">
                                    <span data-lang="zh">ç¦»çº¿æ¨¡å¼</span>
                                    <span data-lang="en">Offline Mode</span>
                                </div>
                                <div class="description">
                                    <span data-lang="zh">åœ¨æ— ç½‘ç»œç¯å¢ƒä¸‹æŒç»­æä¾›æ”¯æŒ</span>
                                    <span data-lang="en">Continue providing support without internet</span>
                                </div>
                            </div>
                            <div class="toggle active" id="offlineModeToggle"></div>
                        </div>
                        <div class="settings-item">
                            <div>
                                <div class="title">
                                    <span data-lang="zh">æ‰‹è¡¨åŒæ­¥</span>
                                    <span data-lang="en">Watch Sync</span>
                                </div>
                                <div class="description">
                                    <span data-lang="zh">ä¸æ™ºèƒ½æ‰‹è¡¨ä¿æŒæ•°æ®åŒæ­¥</span>
                                    <span data-lang="en">Keep data synchronized with smartwatch</span>
                                </div>
                            </div>
                            <div class="toggle active" id="watchSyncToggle"></div>
                        </div>
                        <div class="settings-item" id="languageSelector">
                            <div>
                                <div class="title">
                                    <span data-lang="zh">è¯­è¨€</span>
                                    <span data-lang="en">Language</span>
                                </div>
                                <div class="description">
                                    <span data-lang="zh">åº”ç”¨ç•Œé¢è¯­è¨€è®¾ç½®</span>
                                    <span data-lang="en">App interface language setting</span>
                                </div>
                            </div>
                            <div>
                                <span data-lang="zh">ç®€ä½“ä¸­æ–‡</span>
                                <span data-lang="en">English</span>
                            </div>
                        </div>
                        <div class="settings-item" id="healthDataSync">
                            <div>
                                <div class="title">
                                    <span data-lang="zh">å¥åº·æ•°æ®åŒæ­¥</span>
                                    <span data-lang="en">Health Data Sync</span>
                                </div>
                                <div class="description">
                                    <span data-lang="zh">ä¸ Apple å¥åº· App åŒæ­¥æ•°æ®</span>
                                    <span data-lang="en">Sync data with Apple Health app</span>
                                </div>
                            </div>
                            <div class="btn btn-primary" style="font-size: 12px; padding: 6px 10px;">
                                <span data-lang="zh">è®¾ç½®</span>
                                <span data-lang="en">Setup</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- è¯­éŸ³äº¤äº’æŒ‰é’® -->
        <div class="voice-interaction" id="voiceInteraction">
            <span class="icon">ğŸ¤</span>
        </div>
    
        <!-- è¯­éŸ³äº¤äº’é¢æ¿ -->
        <div class="voice-active" id="voiceActive">
            <div class="close-voice" id="closeVoice">Ã—</div>
            <div class="voice-visualization" id="voiceVisualization">
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
                <div class="voice-bar"></div>
            </div>
            <div class="voice-text" id="voiceText">
                <span data-lang="zh">æˆ‘èƒ½å¦‚ä½•å¸®åŠ©æ‚¨ï¼Ÿ</span>
                <span data-lang="en">How can I help you?</span>
            </div>
        </div>
    
        <!-- æƒ…ç»ªæé†’ -->
        <div class="emotion-alert" id="emotionAlert">
            <span class="icon">âš ï¸</span>
            <span id="alertMessage" data-lang="zh">æ£€æµ‹åˆ°å‹åŠ›æ°´å¹³å‡é«˜ï¼Œå»ºè®®è¿›è¡Œå‘¼å¸ç»ƒä¹ </span>
            <span id="alertMessageEn" data-lang="en">Stress level increase detected, breathing exercise recommended</span>
        </div>
    
        <!-- å¥åº·æ•°æ®åŒæ­¥æ¨¡æ€æ¡† -->
        <div class="modal" id="healthDataModal">
            <div class="modal-content">
                <div class="modal-title">
                    <span data-lang="zh">å¥åº·æ•°æ®åŒæ­¥</span>
                    <span data-lang="en">Health Data Sync</span>
                </div>
                <div class="modal-text">
                    <span data-lang="zh">æ‚¨æ˜¯å¦åŒæ„åŒæ­¥ Apple å¥åº· App çš„æ•°æ®ï¼Ÿè¿™å°†æå‡ Luminea çš„æ•ˆæœï¼Œæ‚¨ä¹Ÿå¯ä»¥é€‰æ‹©ä¸åŒæ„ã€‚</span>
                    <span data-lang="en">Would you like to sync data from Apple Health app? This will enhance Luminea's effectiveness, but you can also choose to decline.</span>
                </div>
                <div class="modal-buttons">
                    <button class="btn btn-secondary" id="declineHealthSync">
                        <span data-lang="zh">ä¸åŒæ„</span>
                        <span data-lang="en">Decline</span>
                    </button>
                    <button class="btn btn-primary" id="acceptHealthSync">
                        <span data-lang="zh">åŒæ„</span>
                        <span data-lang="en">Accept</span>
                    </button>
                </div>
            </div>
        </div>
    
        <!-- æ¬¢è¿æ¨¡æ€æ¡† -->
        <div class="modal show" id="welcomeModal">
            <div class="modal-content">
                <div class="modal-title">
                    <span data-lang="zh">æ¬¢è¿ä½¿ç”¨ Luminea</span>
                    <span data-lang="en">Welcome to Luminea</span>
                </div>
                <div class="modal-text">
                    <span data-lang="zh">Luminea æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„æƒ…ç»ªæ”¯æŒç³»ç»Ÿï¼Œç»“åˆæ™ºèƒ½æ‰‹è¡¨å’Œæ™ºèƒ½æ‰‹æœºï¼Œé€šè¿‡å®æ—¶ç”Ÿç‰©è¯†åˆ«æ•°æ®å’Œæƒ…æ„Ÿåˆ†ææä¾›ä¸ªæ€§åŒ–çš„å¿ƒç†å¥åº·æ”¯æŒã€‚</span>
                    <span data-lang="en">Luminea is an AI-powered emotional support system that combines smartwatches and smartphones to provide personalized mental health support through real-time biometric data and emotional analysis.</span>
                </div>
                <div class="modal-buttons">
                    <button class="btn btn-primary" id="startExperience">
                        <span data-lang="zh">å¼€å§‹ä½“éªŒ</span>
                        <span data-lang="en">Get Started</span>
                    </button>
                </div>
            </div>
        </div>
    
        <script>
            // DOMå…ƒç´ 
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.content');
            const toggles = document.querySelectorAll('.toggle');
            const timeOptions = document.querySelectorAll('.time-option');
            const emotionStatusContainer = document.getElementById('emotionStatusContainer');
            const emotionLevel = document.getElementById('emotionLevel');
            const heartRateElement = document.getElementById('heartRate');
            const sleepQualityElement = document.getElementById('sleepQuality');
            const stressLevelElement = document.getElementById('stressLevel');
            const emotionAlert = document.getElementById('emotionAlert');
            const alertMessage = document.getElementById('alertMessage');
            const alertMessageEn = document.getElementById('alertMessageEn');
            const voiceInteraction = document.getElementById('voiceInteraction');
            const voiceActive = document.getElementById('voiceActive');
            const closeVoice = document.getElementById('closeVoice');
            const voiceText = document.getElementById('voiceText');
            const voiceVisualization = document.getElementById('voiceVisualization');
            const breathingExercise = document.getElementById('breathingExercise');
            const guidedMeditation = document.getElementById('guidedMeditation');
            const breathingBackground = document.getElementById('breathingBackground');
            const starryBackground = document.getElementById('starryBackground');
            const languageSwitcher = document.getElementById('languageSwitcher');
            const healthDataSync = document.getElementById('healthDataSync');
            const healthDataModal = document.getElementById('healthDataModal');
            const acceptHealthSync = document.getElementById('acceptHealthSync');
            const declineHealthSync = document.getElementById('declineHealthSync');
            const welcomeModal = document.getElementById('welcomeModal');
            const startExperience = document.getElementById('startExperience');
            const languageSelector = document.getElementById('languageSelector');
            
            // æƒ…ç»ªå˜é‡
            let currentEmotionState = 'calm'; // calm, anxious, happy, sad
            let emotionScore = 78;
            let heartRate = 72;
            let emotionTrendData = generateRandomData(7);
            let currentLanguage = 'zh'; // é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡
            
            // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
            function createStarryBackground() {
                const starCount = 150;
                const shootingStarCount = 4;
                
                // åˆ›å»ºæ™®é€šæ˜Ÿæ˜Ÿ
                for (let i = 0; i < starCount; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    
                    // éšæœºå¤§å°å’Œä½ç½®
                    const size = Math.random() * 2 + 1;
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    
                    // éšæœºé—ªçƒå»¶è¿Ÿ
                    star.style.animationDelay = `${Math.random() * 5}s`;
                    
                    starryBackground.appendChild(star);
                }
                
                // åˆ›å»ºæµæ˜Ÿ
                for (let i = 0; i < shootingStarCount; i++) {
                    const shootingStar = document.createElement('div');
                    shootingStar.classList.add('shooting-star');
                    
                    // éšæœºä½ç½®
                    shootingStar.style.left = `${Math.random() * 100}%`;
                    shootingStar.style.top = `${Math.random() * 50}%`;
                    
                    // éšæœºå»¶è¿Ÿ
                    shootingStar.style.animationDelay = `${Math.random() * 10}s`;
                    
                    starryBackground.appendChild(shootingStar);
                }
            }
            
            // ç•Œé¢ä¸»è‰²è°ƒæ ¹æ®æƒ…ç»ªçŠ¶æ€åŠ¨æ€è°ƒæ•´
            function updateColorTheme(emotionState) {
                const root = document.documentElement;
                
                switch(emotionState) {
                    case 'calm':
                        root.style.setProperty('--primary-color', '#4a5dff');
                        root.style.setProperty('--secondary-color', '#7b5dff');
                        break;
                    case 'anxious':
                        root.style.setProperty('--primary-color', '#5c8df5'); // å†·è“è°ƒ
                        root.style.setProperty('--secondary-color', '#4a7ae2');
                        break;
                    case 'happy':
                        root.style.setProperty('--primary-color', '#f5cb5c'); // æš–é»„è°ƒ
                        root.style.setProperty('--secondary-color', '#e5bb4d');
                        break;
                    case 'sad':
                        root.style.setProperty('--primary-color', '#7a92e0');
                        root.style.setProperty('--secondary-color', '#6a82d0');
                        break;
                }
            }
            
            // è¯­è¨€åˆ‡æ¢
            function switchLanguage() {
                const body = document.body;
                if (currentLanguage === 'zh') {
                    body.classList.add('lang-en');
                    currentLanguage = 'en';
                } else {
                    body.classList.remove('lang-en');
                    currentLanguage = 'zh';
                }
            }
            
            // æ ‡ç­¾åˆ‡æ¢
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.dataset.tab;
                    
                    // æ›´æ–°æ ‡ç­¾çŠ¶æ€
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // æ›´æ–°å†…å®¹çŠ¶æ€
                    contents.forEach(content => content.classList.remove('active'));
                    document.getElementById(tabId).classList.add('active');
                });
            });
            
            // åˆ‡æ¢æŒ‰é’®äº¤äº’
            toggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    toggle.classList.toggle('active');
                });
            });
            
            // æ—¶é—´é€‰æ‹©å™¨
            timeOptions.forEach(option => {
                option.addEventListener('click', () => {
                    timeOptions.forEach(o => o.classList.remove('active'));
                    option.classList.add('active');
                    
                    // æ›´æ–°å›¾è¡¨æ•°æ®
                    const period = option.dataset.period;
                    let dataPoints;
                    
                    switch(period) {
                        case 'day':
                            dataPoints = 24;
                            break;
                        case 'week':
                            dataPoints = 7;
                            break;
                        case 'month':
                            dataPoints = 30;
                            break;
                    }
                    
                    emotionTrendData = generateRandomData(dataPoints);
                    updateEmotionTrendChart();
                });
            });
            
            // è¯­è¨€åˆ‡æ¢æŒ‰é’®
            languageSwitcher.addEventListener('click', switchLanguage);
            languageSelector.addEventListener('click', switchLanguage);
            
            // å¥åº·æ•°æ®åŒæ­¥
            healthDataSync.addEventListener('click', () => {
                healthDataModal.classList.add('show');
            });
            
            acceptHealthSync.addEventListener('click', () => {
                healthDataModal.classList.remove('show');
                showAlert(
                    "å·²åŒæ­¥ Apple å¥åº·æ•°æ®ï¼Œæé«˜æƒ…ç»ªåˆ†æç²¾å‡†åº¦", 
                    "Apple Health data synced, improving emotion analysis accuracy"
                );
            });
            
            declineHealthSync.addEventListener('click', () => {
                healthDataModal.classList.remove('show');
            });
            
            // æ¬¢è¿æ¨¡æ€æ¡†å…³é—­
            startExperience.addEventListener('click', () => {
                welcomeModal.classList.remove('show');
                
                // å»¶è¿Ÿæ˜¾ç¤ºå¥åº·æ•°æ®åŒæ­¥å¼¹çª—
                setTimeout(() => {
                    healthDataModal.classList.add('show');
                }, 2000);
            });
            
            // è¯­éŸ³äº¤äº’
            voiceInteraction.addEventListener('click', () => {
                voiceActive.classList.add('show');
                animateVoiceBars();
                
                // è¯­éŸ³è¯†åˆ«æ¨¡æ‹Ÿ
                setTimeout(() => {
                    if (currentLanguage === 'zh') {
                        voiceText.innerHTML = '<span data-lang="zh">æˆ‘å¬ç€å‘¢...</span><span data-lang="en">I\'m listening...</span>';
                    } else {
                        voiceText.innerHTML = '<span data-lang="zh">æˆ‘å¬ç€å‘¢...</span><span data-lang="en">I\'m listening...</span>';
                    }
                    
                    setTimeout(() => {
                        // æ¨¡æ‹Ÿç”¨æˆ·è¯¢é—®
                        if (currentLanguage === 'zh') {
                            voiceText.innerHTML = '<span data-lang="zh">å·²è¯†åˆ«: æˆ‘ä»Šå¤©æ„Ÿè§‰æœ‰ç‚¹ç„¦è™‘</span><span data-lang="en">Recognized: I\'m feeling a bit anxious today</span>';
                        } else {
                            voiceText.innerHTML = '<span data-lang="zh">å·²è¯†åˆ«: æˆ‘ä»Šå¤©æ„Ÿè§‰æœ‰ç‚¹ç„¦è™‘</span><span data-lang="en">Recognized: I\'m feeling a bit anxious today</span>';
                        }
                        
                        setTimeout(() => {
                            // æ¨¡æ‹ŸAIå›åº”
                            if (currentLanguage === 'zh') {
                                voiceText.innerHTML = '<span data-lang="zh">æˆ‘æ³¨æ„åˆ°æ‚¨çš„å¿ƒç‡ç•¥é«˜ã€‚å»ºè®®æ‚¨è¿›è¡Œ3åˆ†é’Ÿçš„å‘¼å¸ç»ƒä¹ ï¼Œè·Ÿéšå±å¹•ä¸Šçš„å‘¼å¸å¼•å¯¼èŠ‚å¥ã€‚</span><span data-lang="en">I notice your heart rate is slightly elevated. I suggest a 3-minute breathing exercise, following the breathing guide on the screen.</span>';
                            } else {
                                voiceText.innerHTML = '<span data-lang="zh">æˆ‘æ³¨æ„åˆ°æ‚¨çš„å¿ƒç‡ç•¥é«˜ã€‚å»ºè®®æ‚¨è¿›è¡Œ3åˆ†é’Ÿçš„å‘¼å¸ç»ƒä¹ ï¼Œè·Ÿéšå±å¹•ä¸Šçš„å‘¼å¸å¼•å¯¼èŠ‚å¥ã€‚</span><span data-lang="en">I notice your heart rate is slightly elevated. I suggest a 3-minute breathing exercise, following the breathing guide on the screen.</span>';
                            }
                            
                            updateEmotionState('anxious');
                            showAlert(
                                "æ£€æµ‹åˆ°ç„¦è™‘æƒ…ç»ªï¼Œå·²æ¨èå‘¼å¸ç»ƒä¹ ", 
                                "Anxiety detected, breathing exercise recommended"
                            );
                        }, 2000);
                    }, 2000);
                }, 1500);
            });
            
            closeVoice.addEventListener('click', () => {
                voiceActive.classList.remove('show');
            });
            
            // å¹²é¢„æªæ–½äº¤äº’
            breathingExercise.addEventListener('click', () => {
                showAlert(
                    "æ­£åœ¨å¯åŠ¨å‘¼å¸ç»ƒä¹ ...", 
                    "Starting breathing exercise..."
                );
                
                setTimeout(() => {
                    // æ¨¡æ‹Ÿå‘¼å¸ç»ƒä¹ æ•ˆæœ
                    animateBreathing();
                    
                    setTimeout(() => {
                        updateEmotionState('calm');
                        showAlert(
                            "å‘¼å¸ç»ƒä¹ å®Œæˆï¼Œæƒ…ç»ªç¨³å®šæ€§æå‡", 
                            "Breathing exercise completed, emotional stability improved"
                        );
                    }, 15000);
                }, 1000);
            });
            
            guidedMeditation.addEventListener('click', () => {
                showAlert(
                    "æ­£åœ¨å¯åŠ¨å¼•å¯¼å†¥æƒ³...", 
                    "Starting guided meditation..."
                );
            });
            
            // æƒ…ç»ªçŠ¶æ€æ›´æ–°
            function updateEmotionState(state) {
                currentEmotionState = state;
                updateColorTheme(state);
                
                // æ›´æ–°æƒ…ç»ªæ˜¾ç¤º
                switch(state) {
                    case 'calm':
                        if (currentLanguage === 'zh') {
                            emotionLevel.innerHTML = '<span data-lang="zh">å¹³é™</span><span data-lang="en">Calm</span>';
                        } else {
                            emotionLevel.innerHTML = '<span data-lang="zh">å¹³é™</span><span data-lang="en">Calm</span>';
                        }
                        emotionScore = Math.floor(Math.random() * 15) + 75;
                        document.getElementById('emotionScore').textContent = emotionScore;
                        emotionStatusContainer.style.backgroundColor = 'rgba(74, 93, 255, 0.1)';
                        break;
                    case 'anxious':
                        if (currentLanguage === 'zh') {
                            emotionLevel.innerHTML = '<span data-lang="zh">ç„¦è™‘</span><span data-lang="en">Anxious</span>';
                        } else {
                            emotionLevel.innerHTML = '<span data-lang="zh">ç„¦è™‘</span><span data-lang="en">Anxious</span>';
                        }
                        emotionScore = Math.floor(Math.random() * 20) + 40;
                        document.getElementById('emotionScore').textContent = emotionScore;
                        emotionStatusContainer.style.backgroundColor = 'rgba(92, 141, 245, 0.1)';
                        
                        // æ›´æ–°ç”Ÿç‰©æŒ‡æ ‡
                        heartRate = Math.floor(Math.random() * 15) + 85;
                        heartRateElement.textContent = heartRate;
                        if (currentLanguage === 'zh') {
                            stressLevelElement.innerHTML = '<span data-lang="zh">é«˜</span><span data-lang="en">High</span>';
                        } else {
                            stressLevelElement.innerHTML = '<span data-lang="zh">é«˜</span><span data-lang="en">High</span>';
                        }
                        break;
                    case 'happy':
                        if (currentLanguage === 'zh') {
                            emotionLevel.innerHTML = '<span data-lang="zh">æ„‰æ‚¦</span><span data-lang="en">Happy</span>';
                        } else {
                            emotionLevel.innerHTML = '<span data-lang="zh">æ„‰æ‚¦</span><span data-lang="en">Happy</span>';
                        }
                        emotionScore = Math.floor(Math.random() * 10) + 85;
                        document.getElementById('emotionScore').textContent = emotionScore;
                        emotionStatusContainer.style.backgroundColor = 'rgba(245, 203, 92, 0.1)';
                        break;
                    case 'sad':
                        if (currentLanguage === 'zh') {
                            emotionLevel.innerHTML = '<span data-lang="zh">ä½è½</span><span data-lang="en">Sad</span>';
                        } else {
                            emotionLevel.innerHTML = '<span data-lang="zh">ä½è½</span><span data-lang="en">Sad</span>';
                        }
                        emotionScore = Math.floor(Math.random() * 15) + 45;
                        document.getElementById('emotionScore').textContent = emotionScore;
                        emotionStatusContainer.style.backgroundColor = 'rgba(122, 146, 224, 0.1)';
                        break;
                }
                
                // æ›´æ–°æƒ…ç»ªæ˜Ÿäº‘
                updateEmotionCloud();
            }
            
            // æ˜¾ç¤ºæé†’
            function showAlert(zhMessage, enMessage) {
                alertMessage.textContent = zhMessage;
                alertMessageEn.textContent = enMessage;
                emotionAlert.classList.add('show');
                
                // è§¦å‘éœ‡åŠ¨ï¼ˆå¦‚æœæµè§ˆå™¨æ”¯æŒï¼‰
                if ('vibrate' in navigator) {
                    navigator.vibrate([200, 100, 200]);
                }
                
                setTimeout(() => {
                    emotionAlert.classList.remove('show');
                }, 4000);
            }
            
            // åŠ¨ç”»è¯­éŸ³æ¡
            function animateVoiceBars() {
                const bars = voiceVisualization.querySelectorAll('.voice-bar');
                
                bars.forEach(bar => {
                    // åˆ›å»ºéšæœºåŠ¨ç”»
                    setInterval(() => {
                        const height = Math.floor(Math.random() * 40) + 5; // 5pxåˆ°45px
                        bar.style.height = `${height}px`;
                    }, 200);
                });
            }
            
            // å‘¼å¸åŠ¨ç”»
            function animateBreathing() {
                let scale = 1;
                const maxScale = 1.2;
                let growing = true;
                const duration = 4000; // 4ç§’ä¸€ä¸ªå‘¨æœŸ
                
                // åˆ›å»ºå‘¼å¸åŠ¨ç”»æ•ˆæœ
                const interval = setInterval(() => {
                    if (growing) {
                        scale += 0.01;
                        if (scale >= maxScale) {
                            growing = false;
                        }
                    } else {
                        scale -= 0.01;
                        if (scale <= 1) {
                            growing = true;
                        }
                    }
                    
                    breathingBackground.innerHTML = '';
                    createBreathingEffect(scale);
                }, 50);
                
                // 15ç§’ååœæ­¢åŠ¨ç”»
                setTimeout(() => {
                    clearInterval(interval);
                }, 15000);
            }
            
            // åˆ›å»ºå‘¼å¸æ•ˆæœèƒŒæ™¯
            function createBreathingEffect(scale) {
                const circle = document.createElement('div');
                circle.classList.add('breathing-circle');
                circle.style.width = `${300 * scale}px`;
                circle.style.height = `${300 * scale}px`;
                circle.style.top = '50%';
                circle.style.left = '50%';
                circle.style.transform = `translate(-50%, -50%) scale(${scale})`;
                
                breathingBackground.appendChild(circle);
            }
            
            // æƒ…ç»ªè¶‹åŠ¿å›¾è¡¨
            function updateEmotionTrendChart() {
                const chartCanvas = document.getElementById('emotionTrendChart');
                const ctx = chartCanvas.getContext('2d');
                
                // æ¸…é™¤ç”»å¸ƒ
                ctx.clearRect(0, 0, chartCanvas.width, chartCanvas.height);
                
                // è®¾ç½®ç”»å¸ƒå¤§å°
                chartCanvas.width = chartCanvas.parentElement.offsetWidth;
                chartCanvas.height = chartCanvas.parentElement.offsetHeight;
                
                // ç»˜åˆ¶å›¾è¡¨
                const padding = 30;
                const chartWidth = chartCanvas.width - (padding * 2);
                const chartHeight = chartCanvas.height - (padding * 2);
                
                // ç»˜åˆ¶è½´çº¿
                ctx.beginPath();
                ctx.moveTo(padding, padding);
                ctx.lineTo(padding, chartHeight + padding);
                ctx.lineTo(chartWidth + padding, chartHeight + padding);
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
                ctx.stroke();
                
                // ç»˜åˆ¶æ•°æ®çº¿
                const pointSpacing = chartWidth / (emotionTrendData.length - 1);
                
                ctx.beginPath();
                ctx.moveTo(padding, chartHeight + padding - (emotionTrendData[0] / 100 * chartHeight));
                
                for (let i = 1; i < emotionTrendData.length; i++) {
                    const x = padding + (i * pointSpacing);
                    const y = chartHeight + padding - (emotionTrendData[i] / 100 * chartHeight);
                    ctx.lineTo(x, y);
                }
                
                // æ¸å˜
                const gradient = ctx.createLinearGradient(0, 0, 0, chartHeight);
                gradient.addColorStop(0, 'rgba(74, 93, 255, 1)');
                gradient.addColorStop(1, 'rgba(123, 93, 255, 0.6)');
                
                ctx.strokeStyle = gradient;
                ctx.lineWidth = 3;
                ctx.stroke();
                
                // å¡«å……åŒºåŸŸ
                ctx.lineTo(padding + (emotionTrendData.length - 1) * pointSpacing, chartHeight + padding);
                ctx.lineTo(padding, chartHeight + padding);
                ctx.fillStyle = 'rgba(74, 93, 255, 0.1)';
                ctx.fill();
                
                // ç»˜åˆ¶æ•°æ®ç‚¹
                for (let i = 0; i < emotionTrendData.length; i++) {
                    const x = padding + (i * pointSpacing);
                    const y = chartHeight + padding - (emotionTrendData[i] / 100 * chartHeight);
                    
                    ctx.beginPath();
                    ctx.arc(x, y, 4, 0, Math.PI * 2);
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                    ctx.fill();
                    
                    ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                ctx.fill();
                
                ctx.beginPath();
                ctx.arc(x, y, 6, 0, Math.PI * 2);
                ctx.strokeStyle = 'rgba(123, 93, 255, 0.4)';
                ctx.lineWidth = 1;
                ctx.stroke();
            }
        }
        
        // ç”Ÿæˆéšæœºæ•°æ®
        function generateRandomData(length) {
            const data = [];
            for (let i = 0; i < length; i++) {
                data.push(Math.floor(Math.random() * 40) + 40); // 40-80çš„éšæœºæ•°
            }
            return data;
        }
        
        // æƒ…ç»ªæ˜Ÿäº‘å¯è§†åŒ–
        function initEmotionCloud() {
            const canvas = document.getElementById('emotionCloudCanvas');
            const ctx = canvas.getContext('2d');
            
            // è®¾ç½®ç”»å¸ƒå¤§å°
            canvas.width = canvas.parentElement.offsetWidth;
            canvas.height = canvas.parentElement.offsetHeight;
            
            // ç²’å­ç³»ç»Ÿ
            const particles = [];
            const particleCount = 150;
            
            // åˆ›å»ºç²’å­
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 3 + 1,
                    color: getComputedStyle(document.documentElement).getPropertyValue('--primary-color'),
                    speedX: (Math.random() - 0.5) * 0.7,
                    speedY: (Math.random() - 0.5) * 0.7,
                    opacity: Math.random() * 0.5 + 0.2
                });
            }
            
            // åŠ¨ç”»å¾ªç¯
            function animate() {
                requestAnimationFrame(animate);
                
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                // æ›´æ–°å’Œç»˜åˆ¶ç²’å­
                particles.forEach(particle => {
                    // æ›´æ–°ä½ç½®
                    particle.x += particle.speedX;
                    particle.y += particle.speedY;
                    
                    // è¾¹ç•Œæ£€æŸ¥
                    if (particle.x < 0 || particle.x > canvas.width) {
                        particle.speedX *= -1;
                    }
                    
                    if (particle.y < 0 || particle.y > canvas.height) {
                        particle.speedY *= -1;
                    }
                    
                    // ç»˜åˆ¶ç²’å­
                    ctx.beginPath();
                    ctx.arc(particle.x, particle.y, particle.radius, 0, Math.PI * 2);
                    ctx.fillStyle = particle.color;
                    ctx.globalAlpha = particle.opacity;
                    ctx.fill();
                });
                
                ctx.globalAlpha = 1;
                
                // ç»˜åˆ¶ç²’å­ä¹‹é—´çš„è¿çº¿
                particles.forEach((particle, index) => {
                    for (let j = index + 1; j < particles.length; j++) {
                        const dx = particle.x - particles[j].x;
                        const dy = particle.y - particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < 70) {
                            ctx.beginPath();
                            ctx.moveTo(particle.x, particle.y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.strokeStyle = particle.color;
                            ctx.globalAlpha = 0.1 * (1 - distance / 70);
                            ctx.stroke();
                        }
                    }
                });
                
                ctx.globalAlpha = 1;
            }
            
            animate();
        }
        
        // æ›´æ–°æƒ…ç»ªæ˜Ÿäº‘é¢œè‰²å’ŒåŠ¨ç”»
        function updateEmotionCloud() {
            const canvas = document.getElementById('emotionCloudCanvas');
            const ctx = canvas.getContext('2d');
            
            // è·å–å½“å‰ä¸»è‰²è°ƒ
            const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--primary-color');
            
            // æ›´æ–°ç²’å­é¢œè‰²
            const particles = [];
            const particleCount = 150;
            
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    radius: Math.random() * 3 + 1,
                    color: primaryColor,
                    speedX: (Math.random() - 0.5) * 0.7,
                    speedY: (Math.random() - 0.5) * 0.7,
                    opacity: Math.random() * 0.5 + 0.2
                });
            }
        }
        
        // ä¸»åŠ¨æƒ…ç»ªç›‘æµ‹å’Œå¹²é¢„
        function initEmotionMonitoring() {
            // æ¨¡æ‹Ÿæƒ…ç»ªæ³¢åŠ¨
            setInterval(() => {
                // éšæœºæƒ…ç»ªå˜åŒ–
                const rand = Math.random();
                let newState;
                
                if (rand < 0.7) {
                    // 70%çš„æ¦‚ç‡ä¿æŒå½“å‰çŠ¶æ€
                    newState = currentEmotionState;
                } else if (rand < 0.8) {
                    newState = 'anxious';
                } else if (rand < 0.9) {
                    newState = 'happy';
                } else {
                    newState = 'sad';
                }
                
                // å¦‚æœçŠ¶æ€æ”¹å˜ä¸”æ˜¯ç„¦è™‘çŠ¶æ€ï¼Œè§¦å‘æé†’
                if (newState !== currentEmotionState && newState === 'anxious') {
                    updateEmotionState(newState);
                    
                    setTimeout(() => {
                        showAlert(
                            "æ£€æµ‹åˆ°å‹åŠ›æ°´å¹³å‡é«˜ï¼Œå»ºè®®è¿›è¡Œå‘¼å¸ç»ƒä¹ ",
                            "Stress level increase detected, breathing exercise recommended"
                        );
                        
                        // å¦‚æœå¯ç”¨äº†è‡ªåŠ¨å¹²é¢„ï¼Œè‡ªåŠ¨å¼€å§‹å‘¼å¸ç»ƒä¹ 
                        if (document.getElementById('autoInterventionToggle').classList.contains('active')) {
                            setTimeout(() => {
                                animateBreathing();
                                
                                setTimeout(() => {
                                    updateEmotionState('calm');
                                    showAlert(
                                        "å‘¼å¸ç»ƒä¹ å®Œæˆï¼Œæƒ…ç»ªç¨³å®šæ€§æå‡",
                                        "Breathing exercise completed, emotional stability improved"
                                    );
                                }, 15000);
                            }, 2000);
                        }
                    }, 1000);
                }
            }, 30000); // æ¯30ç§’æ£€æµ‹ä¸€æ¬¡
            
            // æ¨¡æ‹Ÿç”Ÿç‰©è¯†åˆ«æ•°æ®æ›´æ–°
            setInterval(() => {
                // æ›´æ–°å¿ƒç‡
                const variation = Math.floor(Math.random() * 3) - 1; // -1, 0, æˆ– 1
                heartRate += variation;
                
                // ä¿æŒåœ¨åˆç†èŒƒå›´å†…
                if (heartRate < 60) heartRate = 60;
                if (heartRate > 100) heartRate = 100;
                
                heartRateElement.textContent = heartRate;
                
                // éšæœºæ›´æ–°ç¡çœ è´¨é‡
                if (Math.random() < 0.05) { // 5%çš„æ¦‚ç‡
                    const sleepQuality = Math.floor(Math.random() * 20) + 70;
                    sleepQualityElement.textContent = `${sleepQuality}%`;
                }
            }, 5000); // æ¯5ç§’æ›´æ–°ä¸€æ¬¡
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', () => {
            // åˆ›å»ºæ˜Ÿç©ºèƒŒæ™¯
            createStarryBackground();
            
            // åˆå§‹åŒ–æƒ…ç»ªæ˜Ÿäº‘
            initEmotionCloud();
            
            // åˆå§‹åŒ–æƒ…ç»ªè¶‹åŠ¿å›¾è¡¨
            updateEmotionTrendChart();
            
            // åˆå§‹åŒ–æƒ…ç»ªç›‘æµ‹
            initEmotionMonitoring();
            
            // åˆ›å»ºå‘¼å¸èƒŒæ™¯æ•ˆæœ
            createBreathingEffect(1);
            
            // åˆå§‹åŒ–UIçŠ¶æ€
            updateColorTheme(currentEmotionState);
        });
        
        // çª—å£è°ƒæ•´æ—¶æ›´æ–°ç”»å¸ƒå¤§å°
        window.addEventListener('resize', () => {
            // æ›´æ–°æƒ…ç»ªæ˜Ÿäº‘
            const canvas = document.getElementById('emotionCloudCanvas');
            canvas.width = canvas.parentElement.offsetWidth;
            canvas.height = canvas.parentElement.offsetHeight;
            
            // æ›´æ–°æƒ…ç»ªè¶‹åŠ¿å›¾è¡¨
            updateEmotionTrendChart();
        });
    </script>
</body>
</html>